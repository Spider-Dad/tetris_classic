# Тетрис

[![Tests Status](https://github.com/Spider-Dad/tetris_classic/actions/workflows/tests.yml/badge.svg)](https://github.com/Spider-Dad/tetris_classic/actions/workflows/tests.yml)

Классическая игра Тетрис, реализованная на JavaScript с использованием HTML5 Canvas.

## Описание

Игра представляет собой современную реализацию классического Тетриса с дополнительными функциями:
- Отображение следующей фигуры
- Призрачная фигура, показывающая место приземления
- Система уровней и очков
- Звуковые эффекты и фоновая музыка
- Управление с клавиатуры
- Пауза игры

## Структура проекта

```
├── index.html          # Основной HTML файл
├── styles.css          # Стили игры
├── tetris.js           # Основная логика игры
├── sound.js            # Управление звуком
├── sounds/             # Директория со звуковыми файлами
│   ├── move.wav        # Звук перемещения
│   ├── rotate.wav      # Звук поворота
│   ├── drop.wav        # Звук падения
│   ├── clear.wav       # Звук очистки линии
│   ├── levelup.wav     # Звук повышения уровня
│   ├── gameover.wav    # Звук окончания игры
│   └── theme.mp3       # Фоновая музыка
├── __tests__/          # Тесты
│   ├── tetris.test.js  # Тесты для tetris.js
│   └── sound.test.js   # Тесты для sound.js
├── jest.config.js      # Конфигурация Jest
├── jest.setup.js       # Настройка окружения для тестов
├── package-lock.json   # Файл блокировки зависимостей
├── package.json        # Зависимости и скрипты
└── .github/            # Конфигурация GitHub Actions
    └── workflows/      # Рабочие процессы CI/CD
        └── tests.yml   # Конфигурация для запуска тестов
```

## Как играть

1. Откройте `index.html` в современном веб-браузере
2. Нажмите кнопку "Начать игру"
3. Используйте следующие клавиши управления:
   - ← (Стрелка влево) - Движение влево
   - → (Стрелка вправо) - Движение вправо
   - ↓ (Стрелка вниз) - Ускоренное падение
   - ↑ (Стрелка вверх) - Поворот фигуры
   - Пробел - Мгновенное падение
   - Enter - Пауза/Продолжить

## Особенности игры

### Система очков
- 40 очков за 1 линию
- 100 очков за 2 линии
- 300 очков за 3 линии
- 1200 очков за 4 линии (Тетрис)
- Очки умножаются на текущий уровень

### Уровни
- Каждые 10 очищенных линий повышают уровень
- С каждым уровнем скорость падения фигур увеличивается
- Максимальная скорость достигается на высоких уровнях

### Звуковое сопровождение
- Отдельное управление музыкой и звуковыми эффектами
- Фоновая музыка
- Звуковые эффекты для всех действий

## Технические требования

- Современный веб-браузер с поддержкой HTML5 Canvas
- Включенный JavaScript
- Поддержка воспроизведения аудио в формате WAV и MP3

## Установка и разработка

### Установка
```bash
# Клонирование репозитория
git clone https://github.com/username/tetris.git
cd tetris

# Установка зависимостей
npm install
```

### Запуск
Для игры просто откройте файл `index.html` в браузере.

### Тестирование
```bash
# Запуск всех тестов
npm test

# Запуск тестов с отчетом о покрытии
npm run test:coverage

# Запуск тестов в режиме наблюдения
npm run test:watch
```

## Покрытие кода тестами

Текущее покрытие кода тестами:
- Строки: 100%
- Функции: 100%
- Ветвления: 97.19%

## Разработка

Игра разработана с использованием:
- HTML5 Canvas для отрисовки
- JavaScript для игровой логики
- CSS для стилизации интерфейса
- Web Audio API для звукового сопровождения
- Jest для тестирования

## Лицензия

Проект распространяется под MIT лицензией. Вы можете свободно использовать, модифицировать и распространять код при условии сохранения уведомления об авторских правах. 